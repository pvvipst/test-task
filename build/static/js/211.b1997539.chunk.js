"use strict";(self.webpackChunkts_app=self.webpackChunkts_app||[]).push([[211],{9211:(e,t,s)=>{s.r(t),s.d(t,{default:()=>y});var n=s(2791),a=s(8878);const r=[{field:"id",flex:1},{field:"name",flex:1},{field:"filial",flex:1,renderCell:e=>{var t;return null===(t=e.value)||void 0===t?void 0:t.name}},{field:"tt",flex:1,renderCell:e=>{var t;return null===(t=e.value)||void 0===t?void 0:t.name}},{field:"active",flex:1,renderCell:e=>!0===e.value?"\u0410\u043a\u0442\u0438\u0432\u0435\u043d":"\u041d\u0435 \u0430\u043a\u0442\u0438\u0432\u0435\u043d"}];var o,i=s(168),l=s(6934),d=s(506);const c={Wrapper:(0,l.ZP)(d.Z)(o||(o=(0,i.Z)([""])))};var u=s(184);const p=e=>{let{rows:t}=e;return(0,u.jsx)(c.Wrapper,{children:(0,u.jsx)(a._$,{rows:t,columns:r})})};var v=s(4554),h=s(7408),_=s(122),f=s(6999);const m=class{async getMenu(e){const{id:t,...s}=e;return _.O.get("filial/".concat(t,"/menu?limit=100"),{params:s}).then((e=>e)).catch((()=>{throw f.H.new({status:{code:f.w.SERVER_ERROR,message:"Server return bad request"}})}))}};const g=class{constructor(e){this._repository=void 0,this._repository=e}async execute(e){return this._repository.getMenu(e)}};var R=s(856);const y=()=>{const[e,t]=(0,n.useState)([]),{mutateAsync:s}=(e=>{const t=new m,s=new g(t);return(0,h.useMutation)(["get menu"],(async e=>s.execute(e)),{onSuccess:t=>{e(t)}})})(t),{selectedFilial:a}=(0,v.l)(),{name:r,tt:o,active:i,filial:l}=(0,R.$)();return(0,n.useEffect)((()=>{null!==a&&s({id:a,name:r,active:i,filial:l,tt:o})}),[a,r,o,i,l]),(0,u.jsx)(p,{rows:e})}},122:(e,t,s)=>{s.d(t,{O:()=>r});var n=s(4569),a=s.n(n);const r=new class{constructor(e){this._globalConfig=void 0,this._instance=void 0,this._droppedRequests=void 0,this._globalConfig={retry:!1},this._droppedRequests=[],this._instance=a().create({...e,...this._globalConfig}),this._interceptResponse()}setHeaders(e,t){this._instance.defaults.headers.common[e]=t}async get(e,t){return this._instance.get(e,{params:null===t||void 0===t?void 0:t.params,...this._globalConfig})}async post(e,t){return this._instance.post(e,null===t||void 0===t?void 0:t.body,{params:null===t||void 0===t?void 0:t.params,responseType:null===t||void 0===t?void 0:t.responseType,...this._globalConfig})}async put(e,t){return this._instance.put(e,null===t||void 0===t?void 0:t.body,{params:null===t||void 0===t?void 0:t.params,...this._globalConfig})}async patch(e,t){return this._instance.patch(e,null===t||void 0===t?void 0:t.body,{params:null===t||void 0===t?void 0:t.params,...this._globalConfig})}async delete(e,t){return this._instance.delete(e,{params:null===t||void 0===t?void 0:t.params,data:null===t||void 0===t?void 0:t.body,...this._globalConfig})}_interceptResponse(){this._instance.interceptors.response.use(this._handleResponse.bind(this),this._handleErrorResponse.bind(this))}async _handleResponse(e){var t;return Promise.resolve(void 0===(null===(t=e.data)||void 0===t?void 0:t.data)?e.data:e.data.data)}async _handleErrorResponse(e){var t,s;return console.log("promise reject",null===(t=e.response)||void 0===t?void 0:t.data),Promise.reject(null===(s=e.response)||void 0===s?void 0:s.data)}}({baseURL:"https://testjob.checkport.ru/",headers:{"Content-Type":"application/json"}})},6999:(e,t,s)=>{s.d(t,{H:()=>n,w:()=>a});class n extends Error{constructor(e,t){super(),this.code=void 0,this.data=void 0,this.name=this.constructor.name,this.code=e.code,this.data=t,this.message=e.message,"function"===typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}static new(e){return new n(e.status,e.data)}}var a=function(e){return e[e.SERVER_ERROR=1e3]="SERVER_ERROR",e}(a||{})}}]);
//# sourceMappingURL=211.b1997539.chunk.js.map